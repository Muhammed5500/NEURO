# ============================================
# NEURO - Monad MAINNET Configuration
# ============================================
# CRITICAL: This file contains sensitive configuration
# Copy to .env and NEVER commit .env to version control

# ============================================
# MONAD MAINNET NETWORK CONFIGURATION
# ============================================
# Chain ID 143 - Monad Mainnet
MONAD_CHAIN_ID=143
MONAD_RPC_URL=https://rpc.monad.xyz
MONAD_RPC_URL_WS=wss://rpc.monad.xyz/ws

# nad.fun Mainnet API
NADFUN_API_URL=https://api.nadapp.net
NADFUN_API_KEY=

# ============================================
# SECURITY CONTROLS (MANDATORY)
# ============================================
# DEFAULT: READ-ONLY MODE - All write operations disabled
EXECUTION_MODE=READ_ONLY

# MANUAL APPROVAL REQUIRED FOR ALL MAINNET WRITES
# Set to false ONLY for testing in isolated environments
MANUAL_APPROVAL=true

# KILL SWITCH - Instantly disables all write paths
# Set to true to immediately halt all blockchain writes
KILL_SWITCH_ENABLED=false

# Maximum transaction value without multi-sig (in MON)
MAX_SINGLE_TX_VALUE=1.0

# ============================================
# WALLET CONFIGURATION (SEPARATION OF CONCERNS)
# ============================================
# OPERATOR WALLET - Daily operations, limited funds
# Used for token launches and trades
OPERATOR_WALLET_ADDRESS=
OPERATOR_PRIVATE_KEY=

# TREASURY WALLET - Cold storage, large holdings
# Only accessed for major fund movements (multi-sig recommended)
TREASURY_WALLET_ADDRESS=
# NEVER store treasury private key in env - use hardware wallet

# ============================================
# GAS CONFIGURATION (MONAD SPECIFIC)
# ============================================
# Monad charges based on GAS LIMIT, not gas used
# Safety buffer to prevent failed transactions
GAS_BUFFER_PERCENTAGE=15

# Maximum gas price willing to pay (in gwei)
MAX_GAS_PRICE_GWEI=100

# SLOAD-cold optimization threshold
# Monad SLOAD-cold is 8100 gas (4x Ethereum)
SLOAD_COLD_GAS=8100

# ============================================
# FINALITY CONFIGURATION
# ============================================
# Economic Finality: 800ms (2 blocks)
# Wait this duration before confirming to UI
FINALITY_WAIT_MS=800
FINALITY_BLOCKS=2

# ============================================
# DATABASE CONFIGURATION
# ============================================
DATABASE_URL=postgresql://neuro:neuro_secure_password@localhost:5432/neuro_db
DATABASE_POOL_SIZE=10

# Redis for caching and pub/sub
REDIS_URL=redis://localhost:6379

# Qdrant for vector storage (AI embeddings)
QDRANT_URL=http://localhost:6333
QDRANT_API_KEY=
QDRANT_COLLECTION=neuro_memories

# ============================================
# MEMORY SERVICE CONFIGURATION
# ============================================
# Embedding model (OpenAI)
EMBEDDING_MODEL=text-embedding-ada-002

# Enable local model fallback when OpenAI fails
ENABLE_LOCAL_FALLBACK=true

# Async indexer configuration
INDEXER_CONCURRENCY=3
INDEXER_BATCH_SIZE=10

# Deduplication threshold (0.99 = 99% similarity blocks duplicates)
DEDUP_THRESHOLD=0.99
ENABLE_DEDUP=true

# ============================================
# AI / LLM CONFIGURATION
# ============================================
OPENAI_API_KEY=
ANTHROPIC_API_KEY=

# Model selection
LLM_PROVIDER=openai
LLM_MODEL=gpt-4-turbo

# ============================================
# ORCHESTRATOR CONSENSUS CONFIGURATION
# ============================================
# Multi-agent consensus threshold (Turkish: "confidence_score ortalaması 0.85'in altındaysa...")
CONSENSUS_CONFIDENCE_THRESHOLD=0.85

# Adversarial veto threshold (Turkish: "AdversarialAgent %90 ve üzeri güvenle TUZAK diyorsa...")
ADVERSARIAL_VETO_THRESHOLD=0.90

# Agreement threshold between agents
CONSENSUS_AGREEMENT_THRESHOLD=0.60

# Minimum agents required for valid consensus
MIN_AGENTS_FOR_CONSENSUS=3

# Run record storage path
RUN_RECORD_PATH=./data/run_records

# ============================================
# ONCHAIN AGENT CONFIGURATION
# ============================================
# Use simulation provider instead of real RPC (for development)
USE_SIMULATION_PROVIDER=true

# Simulation scenario (HEALTHY_MARKET, LOW_LIQUIDITY, HIGH_GAS, NEAR_GRADUATION, BOT_ACTIVITY)
SIMULATION_SCENARIO=HEALTHY_MARKET

# ============================================
# EXECUTION PLAN CONFIGURATION
# ============================================
# Maximum slippage allowed (Turkish: %2.5 limiti)
MAX_SLIPPAGE_PERCENT=2.5

# Maximum budget per trade in MON
MAX_BUDGET_MON=1.0

# Maximum risk score (0-1, reject if higher)
MAX_RISK_SCORE=0.7

# Require manual approval before execution (CRITICAL: should be true for safety)
REQUIRE_MANUAL_APPROVAL=true

# Monad gas buffer percentage (Turkish: %15 güvenlik marjı)
GAS_BUFFER_PERCENT=15

# ============================================
# TRANSACTION SUBMISSION CONFIGURATION
# ============================================
# Private relay URL (for MEV protection)
PRIVATE_RELAY_URL=
PRIVATE_RELAY_API_KEY=

# Deferred execution URL (Monad specific)
DEFERRED_EXECUTION_URL=
DEFERRED_EXECUTION_API_KEY=

# Submission settings
SUBMISSION_TIMEOUT_MS=30000
SUBMISSION_MAX_RETRIES=3
SUBMISSION_RPS_LIMIT=10

# Policy: Max budget for public RPC (Turkish: 0.5 MON limiti)
PUBLIC_RPC_MAX_BUDGET_MON=0.5

# Fail-closed: Block fallback to public RPC when private routes fail
BLOCK_FALLBACK_TO_PUBLIC=true

# ============================================
# SESSION KEY CONFIGURATION
# ============================================
# Default session budget in MON
SESSION_DEFAULT_BUDGET_MON=1.0

# Velocity limit per minute (Turkish: dakika başına harcama limiti)
SESSION_VELOCITY_LIMIT_MON_PER_MINUTE=0.5

# Default session expiry (1 hour)
SESSION_DEFAULT_EXPIRY_MS=3600000

# Strict allowlist mode (reject non-allowlisted addresses)
SESSION_STRICT_ALLOWLIST=true

# Master encryption key for session storage (hex, 32 bytes)
# Turkish: "Oturum anahtarları bellekte şifreli olarak tutulmalı"
# Leave empty to generate random key on startup
SESSION_MASTER_KEY=

# ============================================
# IPFS/METADATA CONFIGURATION
# ============================================
# Pinata IPFS provider
PINATA_API_KEY=
PINATA_SECRET_KEY=
PINATA_GATEWAY=https://gateway.pinata.cloud

# Infura IPFS provider (for multi-pin redundancy)
# Turkish: "birden fazla pinning servisini destekleyen"
INFURA_IPFS_PROJECT_ID=
INFURA_IPFS_PROJECT_SECRET=
INFURA_IPFS_GATEWAY=

# Metadata rate limits
METADATA_MAX_UPDATES_PER_HOUR=5
METADATA_MAX_UPDATES_PER_DAY=20
METADATA_MIN_SECONDS_BETWEEN_UPDATES=60

# ============================================
# REWARD SYSTEM CONFIGURATION (Optional Module)
# ============================================
# Enable reward module
REWARDS_ENABLED=true

# Epoch configuration (Turkish: "strictly capped per epoch")
REWARDS_EPOCH_DURATION=weekly
REWARDS_MAX_POINTS_PER_EPOCH=1000000
REWARDS_MAX_POINTS_PER_USER=10000
REWARDS_MAX_POINTS_PER_ACTION=1000

# Burn policy (Turkish: "dağıtılmayan puanlar asla devretmemeli")
REWARDS_BURN_UNDISTRIBUTED=true

# Oracle configuration
USE_PRODUCTION_ORACLE=false
CHAINLINK_RPC_URL=
CHAINLINK_CONTRACT_ADDRESS=
REWARD_API_URL=
REWARD_API_KEY=

# ============================================
# MONITORING & LOGGING
# ============================================
LOG_LEVEL=info
LOG_FORMAT=json

# Sentry for error tracking (optional)
SENTRY_DSN=

# ============================================
# DASHBOARD CONFIGURATION
# ============================================
NEXT_PUBLIC_APP_URL=http://localhost:3000
NEXTAUTH_SECRET=generate-a-secure-random-string-here
NEXTAUTH_URL=http://localhost:3000

# ============================================
# EXTERNAL DATA SOURCES
# ============================================
# News and market data APIs
NEWS_API_KEY=
COINGECKO_API_KEY=
TWITTER_BEARER_TOKEN=

# ============================================
# RATE LIMITING
# ============================================
# Requests per minute to nad.fun API
NADFUN_RATE_LIMIT_RPM=60

# Requests per minute to RPC
RPC_RATE_LIMIT_RPM=300

# ============================================
# INGESTION PIPELINE CONFIGURATION
# ============================================
# Message bus type (redis or nats)
MESSAGE_BUS_TYPE=redis
MESSAGE_BUS_STREAM=neuro:ingestion

# NATS URL (for production)
NATS_URL=nats://localhost:4222

# Pipeline channel capacity (backpressure threshold)
PIPELINE_CHANNEL_CAPACITY=1000

# Worker counts per stage
PIPELINE_FETCH_WORKERS=4
PIPELINE_NORMALIZE_WORKERS=2
PIPELINE_ENRICH_WORKERS=2
PIPELINE_EMBED_WORKERS=1
PIPELINE_PUBLISH_WORKERS=2

# Enable/disable stages
PIPELINE_ENABLE_ENRICH=true
PIPELINE_ENABLE_EMBED=false

# Metrics server
METRICS_ENABLED=true
METRICS_PORT=9090

# ============================================
# DEVELOPMENT / TESTING
# ============================================
# Set to 'development' for local testing
NODE_ENV=production

# Enable verbose transaction logging
DEBUG_TRANSACTIONS=false
