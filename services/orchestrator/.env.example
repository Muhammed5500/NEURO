# ============================================
# NEURO Orchestrator Service Configuration
# ============================================

# LLM Provider Configuration
LLM_PROVIDER=openai
LLM_MODEL=gpt-4-turbo-preview
OPENAI_API_KEY=your-openai-api-key
ANTHROPIC_API_KEY=your-anthropic-api-key

# ============================================
# CONSENSUS THRESHOLDS
# ============================================

# Minimum confidence threshold for EXECUTE decisions (0-1)
# Turkish: "confidence_score ortalaması 0.85'in altındaysa asla EXECUTE olmamalı"
CONSENSUS_CONFIDENCE_THRESHOLD=0.85

# Adversarial veto threshold (0-1)
# Turkish: "AdversarialAgent %90 ve üzeri bir güvenle 'BU BİR TUZAK' diyorsa, karar REJECT olmalı"
ADVERSARIAL_VETO_THRESHOLD=0.90

# Minimum number of agents required for consensus
MIN_AGENTS_REQUIRED=3

# ============================================
# APPROVAL SETTINGS
# ============================================

# Enable manual approval requirement (true/false)
MANUAL_APPROVAL_ENABLED=true

# Run record storage path
RUN_RECORD_PATH=./data/run-records

# --------------------------------------------
# OPERATIONAL MODES
# --------------------------------------------

# Enables full simulation mode. No real transactions are broadcasted to the blockchain.
DEMO_MODE=true

# Allows reading data from the mainnet but strictly blocks any write/broadcast operations.
MAINNET_READONLY=true

# Requires manual cryptographic approval via the Dashboard for any write operations.
MANUAL_APPROVAL=true

# ============================================
# ON-CHAIN CONFIGURATION (MONAD)
# ============================================

# Monad RPC URL
MONAD_RPC_URL=https://rpc.monad.xyz
MONAD_CHAIN_ID=143

# Provider mode (simulation/mainnet)
ONCHAIN_PROVIDER_MODE=simulation

# Cache TTL in milliseconds
ONCHAIN_CACHE_TTL_MS=60000

# ============================================
# EXECUTION PLAN CONFIGURATION
# ============================================

# Gas buffer percentage (Turkish: "%15 güvenlik marjı")
GAS_BUFFER_PERCENT=15

# Maximum slippage percentage (Turkish: "%2.5 limit")
MAX_SLIPPAGE_PERCENT=2.5

# Simulation staleness threshold in blocks (Turkish: "3 blok geçtiyse bayat")
STALE_SIMULATION_BLOCKS=3

# Maximum budget in MON
MAX_BUDGET_MON=10

# Maximum acceptable risk score (0-100)
MAX_RISK_SCORE=70

# ============================================
# TRANSACTION SUBMISSION CONFIGURATION
# ============================================

# Submission provider mode (mock/mainnet)
SUBMISSION_PROVIDER_MODE=mock

# Public RPC disabled threshold (Turkish: "0.5 MON üzerindeyse publicRpcSubmit devre dışı")
PUBLIC_RPC_DISABLED_THRESHOLD_MON=0.5

# Private relay URL (optional)
PRIVATE_RELAY_URL=
PRIVATE_RELAY_API_KEY=

# Deferred execution URL (optional)
DEFERRED_EXECUTION_URL=
DEFERRED_EXECUTION_API_KEY=

# ============================================
# SESSION KEY CONFIGURATION
# ============================================

# Default session expiry in milliseconds (24 hours)
DEFAULT_SESSION_EXPIRY_MS=86400000

# Maximum session budget in wei
MAX_SESSION_BUDGET_WEI=1000000000000000000

# Velocity limit (wei per minute)
VELOCITY_LIMIT_WEI_PER_MINUTE=100000000000000000

# Session encryption key (32 bytes, hex encoded)
SESSION_ENCRYPTION_KEY=

# ============================================
# CONTENT GENERATION CONFIGURATION
# ============================================

# Disclosure text for generated posts
DISCLOSURE_TEXT=[NEURO AI Autonomous Post - Not Financial Advice]

# Maximum post length (characters)
MAX_POST_LENGTH=280

# ============================================
# METADATA PIPELINE CONFIGURATION
# ============================================

# IPFS provider mode (mock/pinata/infura/multi)
IPFS_PROVIDER_MODE=mock

# Pinata credentials
PINATA_API_KEY=
PINATA_API_SECRET=

# Infura IPFS credentials
INFURA_IPFS_PROJECT_ID=
INFURA_IPFS_PROJECT_SECRET=

# Metadata update rate limit (updates per hour)
METADATA_RATE_LIMIT_PER_HOUR=10

# ============================================
# REWARD SYSTEM CONFIGURATION
# ============================================

# Epoch duration in milliseconds (7 days)
EPOCH_DURATION_MS=604800000

# Maximum points per epoch
MAX_POINTS_PER_EPOCH=100000

# Maximum points per user per epoch
MAX_POINTS_PER_USER=10000

# Maximum points per single action
MAX_POINTS_PER_ACTION=1000

# Burn undistributed points at epoch end (true/false)
BURN_UNDISTRIBUTED_POINTS=true

# ============================================
# MONITORING CONFIGURATION (NEW)
# ============================================

# Monitoring interval in milliseconds
MONITORING_INTERVAL_MS=60000

# Signal expiry in milliseconds (1 hour)
SIGNAL_EXPIRY_MS=3600000

# Action card expiry in milliseconds (24 hours)
ACTION_CARD_EXPIRY_MS=86400000

# Curve stall detection: price velocity drop threshold (%)
CURVE_STALL_PRICE_VELOCITY_DROP_PERCENT=50

# Curve stall detection: sell pressure increase threshold (%)
CURVE_STALL_SELL_PRESSURE_INCREASE_PERCENT=30

# Attention decay: volume drop threshold (%)
ATTENTION_DECAY_VOLUME_DROP_PERCENT=40

# Attention decay: sentiment drop rate (points per hour)
ATTENTION_DECAY_SENTIMENT_DROP_RATE=0.2

# Volume/liquidity divergence ratio threshold
VOLUME_LIQUIDITY_DIVERGENCE_RATIO=2.0

# Exit liquidity risk threshold (0-100)
EXIT_LIQUIDITY_RISK_THRESHOLD=70

# ============================================
# TREASURY LEDGER CONFIGURATION
# ============================================

# Allocation percentages (must sum to 100)
TREASURY_LIQUIDITY_RESERVE_PERCENT=40
TREASURY_LAUNCH_RESERVE_PERCENT=30
TREASURY_GAS_RESERVE_PERCENT=30

# Withdrawal timelock (Turkish: "minimum 24 saatlik withdrawal_queue")
TREASURY_MIN_TIMELOCK_MS=86400000
TREASURY_MAX_TIMELOCK_MS=604800000
TREASURY_EXECUTION_WINDOW_MS=172800000

# Multisig configuration
TREASURY_REQUIRED_APPROVALS=1
TREASURY_APPROVERS=

# Invariant checking (Turkish: "sanity_check mekanizması")
TREASURY_INVARIANT_CHECK_INTERVAL_MS=60000
TREASURY_AUTO_RECOVER_DISCREPANCY=true
TREASURY_MAX_AUTO_RECOVER_WEI=1000000000000000000

# Balance reconciliation (Turkish: "Sanal Defter ve Gerçek Zincir Üstü Bakiye")
TREASURY_RECONCILIATION_INTERVAL_MS=300000
TREASURY_MAX_DISCREPANCY_PERCENT=5

# Kill switch integration
TREASURY_KILL_SWITCH_ENABLED=true

# Treasury on-chain address
TREASURY_ADDRESS=

# ============================================
# METRICS CONFIGURATION
# ============================================

# Metrics update interval (ms)
METRICS_UPDATE_INTERVAL_MS=1000

# Maximum measurements stored per phase
METRICS_MAX_MEASUREMENTS_PER_PHASE=1000

# Maximum runs stored
METRICS_MAX_RUNS=100

# ============================================
# REFERENCE CHAIN COMPARISON CONFIGURATION
# Turkish: "Referans zincirlerin anlık gaz fiyatlarını config üzerinden oku"
# ============================================

# Ethereum reference values
ETH_AVG_BLOCK_TIME_MS=12000
ETH_AVG_FINALITY_MS=900000
ETH_AVG_TX_LATENCY_MS=30000
ETH_AVG_GAS_PRICE_GWEI=30
ETH_TOKEN_PRICE_USD=3500

# Solana reference values
SOL_AVG_BLOCK_TIME_MS=400
SOL_AVG_FINALITY_MS=13000
SOL_AVG_TX_LATENCY_MS=2000
SOL_TX_COST_USD=0.00075
SOL_TOKEN_PRICE_USD=150

# Arbitrum reference values
ARB_AVG_TX_LATENCY_MS=2000
ARB_AVG_GAS_PRICE_GWEI=0.1

# Monad configuration
# Turkish: "Monad'ın iğnesi her zaman 'Ultra Fast' bölgesinde kalsın"
MONAD_AVG_BLOCK_TIME_MS=400
MONAD_AVG_FINALITY_MS=800
MONAD_AVG_TX_LATENCY_MS=500
MONAD_AVG_GAS_PRICE_GWEI=1
MONAD_TOKEN_PRICE_USD=5

# ============================================
# LIVE DATA PIPELINE CONFIGURATION
# ============================================

# Redis URL for Ingestion stream (enables real-time signal consumption)
REDIS_URL=redis://localhost:6379

# Qdrant URL for Memory service (enables historical context lookups)
QDRANT_URL=http://localhost:6333
QDRANT_API_KEY=

# nad.fun API (for trending tokens, new tokens)
NADFUN_API_URL=https://api.nadapp.net
NADFUN_API_KEY=

# Processing settings
MIN_SIGNALS_FOR_RUN=3
RUN_COOLDOWN_MS=5000
ENABLE_MEMORY_LOOKUP=true
ENABLE_MARKET_DATA=true

# ============================================
# LOGGING
# ============================================

LOG_LEVEL=info
LOG_FORMAT=json
